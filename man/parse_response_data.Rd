% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/odm_get_samples.R
\name{parse_response_data}
\alias{parse_response_data}
\title{Parse Genestack ODM API Response Data into Wide Format}
\usage{
parse_response_data(data)
}
\arguments{
\item{data}{List. The parsed JSON response from the Genestack ODM API,
typically obtained via \code{httr::content(response, "parsed")}.}
}
\value{
A list containing two elements:
  \itemize{
    \item \code{metadata}: The metadata component from the API response
    \item \code{data}: A data frame where each row represents a sample record
          and columns represent field values and ontology terms
  }
}
\description{
Internal function that transforms the nested JSON structure returned by the
Genestack ODM API into a flat, wide-format data frame suitable for analysis.
Handles multi-valued fields, ontology terms, and type conversions.
}
\details{
The function processes the API response structure as follows:

\strong{Field Processing:}
\itemize{
  \item Each field's values array is extracted and flattened
  \item For fields with multiple values, columns are created with numeric 
        suffixes (e.g., "field_1", "field_2")
  \item Ontology term IDs are extracted into separate columns with 
        "_ontology_term_id" suffix
  \item Term IDs are reformatted from "PREFIX_12345" to "PREFIX:12345"
}

\strong{Data Type Handling:}
All values are initially converted to character type to ensure successful
binding of rows. The comment in the code indicates that specific columns
should be converted back to appropriate types (numeric, date, etc.) in 
downstream processing.

\strong{Column Naming Convention:}
\itemize{
  \item Single values: \code{field_name}
  \item Multiple values: \code{field_name}, \code{field_name_2}, \code{field_name_3}, ...
  \item Ontology terms: \code{field_name_ontology_term_id}, \code{field_name_ontology_term_id_2}, ...
}
}
\note{
This is an internal function called by \code{odm_get_samples}. It is not
intended to be called directly by users but is documented for maintainability.

Dictionary information extraction is currently commented out but can be
enabled if needed by uncommenting the relevant code section.
}
\section{Known Limitations}{

\itemize{
  \item All columns are returned as character type and require explicit type
        conversion for numeric or date fields
  \item Dictionary metadata is not currently extracted (code is commented out)
}
}

\seealso{
\code{\link{odm_get_samples}} for the main API fetching function
}
\keyword{internal}
